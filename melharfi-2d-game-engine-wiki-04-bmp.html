<html>
    <head>
        <title>Author Web Page</title>
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>

        <link rel="stylesheet" href="highlight/styles/dracula.css">
        <script src="highlight/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
    </head>
    <body>
        <!----NavigationBar---->
        <section id="nav-bar">
            <nav class="navbar navbar-expand-lg navbar-light">
                <a class="navbar-brand" href="#"><img src="img/logo.jpg"></a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                  <div class="navbar-nav ml-auto">
                    <a class="nav-item nav-link" href="index.html">HOME</a>
                    <a class="nav-item nav-link" href="repos.html">REPOS</a>
                  </div>
                </div>
              </nav>
        </section>
        <!----Slider---->
        <div id="slider">
            <div id="headerSlider" class="carousel slide" data-ride="carousel">
                <ol class="carousel-indicators">
                  <li data-target="#headerSlider" data-slide-to="0" class="active"></li>
                  <li data-target="#headerSlider" data-slide-to="1"></li>
                  <li data-target="#headerSlider" data-slide-to="2"></li>
                </ol>
                <div class="carousel-inner">
                  <div class="carousel-item active">
                    <img src="img/1.jpg" class="d-block img-fluid w-100">
                    <div class="carousel-caption">
                      <h5>Welcome to The-Morpher Github Page</h5>
                    </div>
                  </div>
                  <div class="carousel-item">
                    <img src="img/2.jpg" class="d-block img-fluid w-100">
                    <div class="carousel-caption">
                      <h5>Love programming and discover new technologies</h5>
                    </div>
                  </div>
                  <div class="carousel-item">
                    <img src="img/3.jpg" class="d-block img-fluid w-100">
                    <div class="carousel-caption">
                      <h5>All my repos is shared</h5>
                    </div>
                  </div>
                  <div class="carousel-item">
                    <img src="img/4.jpg" class="d-block img-fluid w-100">
                    <div class="carousel-caption">
                      <h5>Feel free to give me a hint if anything need a tweak</h5>
                    </div>
                  </div>
                </div>
                <a class="carousel-control-prev" href="#headerSlider" role="button" data-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#headerSlider" role="button" data-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="sr-only">Next</span>
                </a>
              </div>
        </div>
        <!----Repos---->
        <section id="repos">
          <div class="container">
            <div class="row">
              <div class="col-md-10">
                <h2>Repos</h2>
                <div class="repos-content">
                  <div class="repos-content-job-title" style="color: darkcyan;">
                    <p><img src="https://raw.githubusercontent.com/melharfi/MELHARFI-2D-Game-Engine/master/assets/logo.png"></p>
                    <b>MELHARFI-2D-Game-Engine.</b>
                  </div>
                  <div class="repos-content-sub">
                    <p><a href="https://github.com/melharfi/MELHARFI-2D-Game-Engine" target="blank"><i class="fa fa-github" aria-hidden="true"></i>Got to repo.</a></p>

                    <p><b><h3>04. Bmp (Bitmap)</h3></b></p>
                    <p><b>Bmp class</b></p>
                    <p>To draw a picture "Bitmap" you should create an instance of Bmp class. This class has 20 overloads depending on what the parameters you want to initialize. The easy one is</p>
                    <p>
                      <pre>
                        <code class="csharp">
Bmp cloudPicture = new Bmp("cloud.png", new Point(0,0), manager);
                        </code>
                      </pre>
                    </p>
                    <p>And here is a complete code </p>
                    <p>
                      <pre>
                        <code class="csharp">
using System.Drawing;
using System.Windows.Forms;
using MELHARFI.Manager;
using MELHARFI.Manager.Gfx;

namespace _2dProject
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();

            Manager manager = new Manager(this, "CORE_ENGINE");
            manager.Background = Color.Blue;

            Bmp cloudPicture = new Bmp("cloud.png", new Point(0,0), manager);
            
            manager.BackgroundLayer.Add(cloudPicture);
        }
    }
}                          
                        </code>
                      </pre>
                    </p>

                    <p><img src="repos/MELHARFI-2D-Game-Engine/assets/ch3-cloud.png"></p>
                    <p>Obiously you can chage the Position as you want</p>

                    <p><b>ObjectLayer</b> Is the common asset like players, monsters... that come front of background (layer 2)</p>
                    <p>
                      <pre>
                        <code class="csharp">
Bmp superMario = new Bmp("supermario.png", new Point(100, 100), manager);
manager.ObjectLayer.Add(superMario);
                        </code>
                      </pre>
                    </p>
                    <p><img src="repos/MELHARFI-2D-Game-Engine/assets/ch-sm.PNG"></p>

                    <p>If you experiance some king of flickering of your form, you can go to Flickering chapter to fix this or add that code right in the top of your main function</p>
                    <p>
                      <pre>
                        <code class="csharp">
this.SetStyle(ControlStyles.AllPaintingInWmPaint | ControlStyles.UserPaint | ControlStyles.DoubleBuffer, true);
this.Invalidate();

Manager manager = new Manager(this, "CORE_ENGINE");
manager.Background = Color.Blue;

Bmp cloudPicture = new Bmp("cloud.png", new Point(0,0), manager);            
manager.BackgroundLayer.Add(cloudPicture);

Bmp superMario = new Bmp("supermario.png", new Point(100, 100), manager);
manager.ObjectLayer.Add(superMario);
                        </code>
                      </pre>
                    </p>


                    <p><b>Bmp parameters.</b></p>
                    <p><b>Name</b> : You can associate a name to an image object so that you can fetch for it if you want to, like so :</p>
                    <p>
                      <pre>
                        <code class="csharp">
cloudPicture.name = "cloud1";
                        </code>
                      </pre>
                    </p>

                    <p><b>Opacity</b> : cloudPicture.Opacity = 0.5F; meaning that the picture is going to be transparent by 50%, min value is 0.0F (completely transparent) and 1F is 100% opaque.</p>
                    <p><b>Rectanle</b> : let you draw only a peace of your picture depending on a start point and the size to take.</p>
                    <p>
                      <pre>
                        <code class="csharp">
cloudPicture.rectangle = new Rectangle(new Point(50, 50), new Size(60, 70));
                        </code>
                      </pre>
                    </p>

                    <p>The picture rendered will croped, from the position 50 X, 50 Y of the original picture, and only a rectangle of 60 pixel width and 70 pixel height will be taken, the other pieces is ignored and not displayed.</p>
                    <p><b>typeGfx</b> : to identify object as it's type if is it a background or Object or Top</p>
                    <p>
                      <pre>
                        <code class="csharp">
cloudPicture.TypeGfx = Manager.TypeGfx.Bgr;
//or
cloudPicture.TypeGfx = Manager.TypeGfx.Obj;
                        </code>
                      </pre>
                    </p>

                    <p>Useful if somehow you don't know where an object is added, if is it in background or object, so by that value you know where itâ€™s stored by fetching like so :</p>
                    <p>
                      <pre>
                        <code class="csharp">
if(cloudPicture.TypeGfx == Manager.TypeGfx.Bgr)
{
  /*...*/
}
else if(cloudPicture.TypeGfx == Manager.TypeGfx.Obj)
{
  /*...*/
}
else
{
  /*...*/
}
                        </code>
                      </pre>
                    </p>
                    <p><b>Visible</b> : boolean property to make picture visible or not.</p>
                    <p><b>Z-Index</b> : depth of an object inside a layer to superpose a picture over another one as integer.</p>
                    <p><b>Crypted</b> : is a bool flag to determine if a picture is encrypted or not, if it's so, you need my CryptDecrypt tool share in the link:.</p>
                    <p>https://github/MELHARFI/CryptDecrypt</p>
                    <p>This flag is self initialized 'readonly' when you create your Bmp instance as you'll specify whether the picture is encrypted or not, so you don't need to initialize it as it's done in the constructor like :</p>
                    <p>
                      <pre>
                        <code class="csharp">
Manager manager = new Manager(this, "manager");
manager.Background = Color.Blue;
                          
/*not encrypted Bmp*/
Bmp NotEncryptedBMP = new Bmp("1.jpg", Point.Empty, manager);
manager.BackgroundLayer.Add(NotEncryptedBMP);

/*encrypted Bmp*/
string key = "12345678";
string iv = "87654321";
Bmp encryptedBMP = new Bmp("1.jpg", Point.Empty, key, iv, manager);
manager.BackgroundLayer.Add(encryptedBMP);
                        </code>
                      </pre>
                    </p>

                    <p>To encrypt a picture you must use the CryptDecrypt tool to encrypt it first using 2 Keys you must regenerate "Key & IV"</p>
                    <p><li>>Key</li> is the first key must be exactly 8 characters as string, (any character, number, letters, special char ..)</p>

                    <p><li>IV</li> is the second key called "Initializing Vector" must be exactly 8 characters too as string, (any character, number, letters, special char ..)</p>
                    <p>you can use the same string for both of them.</p>
                    <p>After that you must replace your original picture by the one being encrypted and saved and then use the apropriate constructor :</p>
                    <p>
                      <pre>
                        <code class="csharp">
Bmp encryptedBMP = new Bmp("1.jpg", Point.Empty, key, iv, manager);
                        </code>
                      </pre>
                    </p>

                    <p><b>isSpriteSheet</b> boolean value indicating wheter the object "Bmp" must show only a piece of the original picture or the full image, this value is read only, and it's initialized when a constructor of Bmp is called with the rectangle parameter.</p>
                    <p>quite useful when you want to check if a Bmp object is a sprite sheet or not.</p>
                    <p><b>newColorMap</b> is a way to convert a color to another one, meaning that each pixel with the given color is found will be changed.</p>
                    <p>More details is in the 19 Converting-color chapter</p>

                    <p><button type="button" class="btn btn-primary" onclick="window.location = 'melharfi-2d-game-engine-wiki-05-rec.html'">Next Chapter 05. Rec>></button></p>

                  </div>
                </div>
              </div>
              <!----Summary---->
              <div class="col-md-2 skills-bar">
                <p style="color: cadetblue; font-size: 20px;">Summary</p>
                <p><b>>>Home</b></p>
                <p><a href="melharfi-2d-game-engine-wiki-01-initializing.html">01. Initializing MELHARFI engine</a></p>
                <p><a href="melharfi-2d-game-engine-wiki-02-superposition.html">02. Superposition and ZIndex</a></p>
                <p><a href="melharfi-2d-game-engine-wiki-03-drawing-classes.html">03. Drawing classes</a></p>
                <p><b>>>04. Bmp (Bitmap)</b></p>
                <p><a href="melharfi-2d-game-engine-wiki-05-anim.html">05. Rec (Rectangle)</a></p>
                <p><a href="melharfi-2d-game-engine-wiki-06-anim.html">06. Anim (Animation)</a></p>
                <p><a href="melharfi-2d-game-engine-wiki-07-txt.html">07. Txt (Text)</a></p>
                <p><a href="melharfi-2d-game-engine-wiki-08-fillpolygon.html">08. FillPolygon (shapes)</a></p>
                <p><a href="melharfi-2d-game-engine-wiki-09-error.html">09. Error handling</a></p>
                <p><a href="melharfi-2d-game-engine-wiki-10-mouse-events.html">10. Mouse events</a></p>
                <p><a href="melharfi-2d-game-engine-wiki-10-controls.html">11. Controls and ControlLayer</a></p>
                <p><a href="melharfi-2d-game-engine-wiki-12-remove-clear-fixedObjectLayer.html">12. Remove, Clear and FixedObjectLayer</a></p>
                <p><a href="melharfi-2d-game-engine-wiki-13-cryptography.html">13. Cryptography</a></p>
                <p><a href="melharfi-2d-game-engine-wiki-14-show-hide.html">14. Show, Hide</a></p>
                <p><a href="melharfi-2d-game-engine-wiki-15-igfx.html">15. Interface IGfx</a></p>
                <p><a href="melharfi-2d-game-engine-wiki-16-tag.html">16. Tag</a></p>
                <p><a href="melharfi-2d-game-engine-wiki-17-child.html">17. Child</a></p>
                <p><a href="melharfi-2d-game-engine-wiki-18-sprite-sheet.html">18. Sprite Sheet</a></p>
                <p><a href="melharfi-2d-game-engine-wiki-19-convertingColor.html">19. Converting color</a></p>
                <p><a href="melharfi-2d-game-engine-wiki-20-astar.html">20. AStar pathfinding</a></p>
                <p><a href="melharfi-2d-game-engine-wiki-21-astar.html">21. LidgrenNetwork</a></p>
                <p><a href="melharfi-2d-game-engine-wiki-22-drawing-surface.html">22. Drawing Surface</a></p>
                <p><a href="melharfi-2d-game-engine-wiki-23-flickering.html">23. Flickering issue</a></p>
              </div>
              <!----End Summary---->
            </div>
          </div>
        </section>
        <!----Services---->
        <section id="services">
          <div class="container">
            <h1>Services</h1>
            <div class="row services">
              <div class="col-md-3 text-center">
                <div class="icon">
                  <i class="fa fa-desktop"></i>
                </div>
                <h3>App Developpement</h3>
                <p>Want me to dev an app for you ? dont hesitate to contact me.</p>
              </div>
              <div class="col-md-3 text-center">
                <div class="icon">
                  <i class="fa fa-code" aria-hidden="true"></i>
                </div>
                <h3>Programming</h3>
                <p>Are you looking for a coder/teammate for your project ? Let's give it a try.</p>
              </div>
              <div class="col-md-3 text-center">
                <div class="icon">
                  <i class="fa fa-users" aria-hidden="true"></i>
                </div>
                <h3>Job Invitation</h3>
                <p>Have a proposal for me ? we can discuss about it.</p>
              </div>
              <div class="col-md-3 text-center">
                <div class="icon">
                  <i class="fa fa-cc-paypal"></i>
                </div>
                <h3>Donation maybe ?!</h3>
                <p>You want to buy me a coffe ? m.elharfi@gmail.com</p>
                <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                  <input type="hidden" name="cmd" value="_s-xclick" />
                  <input type="hidden" name="hosted_button_id" value="VN92ND2CDMX92" />
                  <input type="image" src="https://www.paypalobjects.com/en_US/FR/i/btn/btn_donateCC_LG.gif" border="0" name="submit" title="PayPal - The safer, easier way to pay online!" alt="Donate with PayPal button" />
                  <img alt="" border="0" src="https://www.paypal.com/en_FR/i/scr/pixel.gif" width="1" height="1" />
                  </form>
                  
              </div>
            </div>
          </div>
        </section>
        <!----End Services-->
        <!----Image click to enlarge---->
        <!-- Trigger the Modal -->
        <!-- The Modal -->
        <div id="myModal" class="modal">
          <!-- The Close Button -->
          <span class="modalClose" onclick="CloseSpan()">&times;</span>
          <!-- Modal Content (The Image) -->
          <img id="newMyImg" class="modal-content">
          <!-- Modal Caption (Image Text) -->
          <div id="caption"></div>
        </div> 
        <!--------End image click to enlarge-------->
    </body>
</html>

<script language="javascript">
//button toggle show/hide div
function myFunction()
{
  var x = document.getElementById("myDIV");
  if (x.style.display === "none")
  {
    x.style.display = "block";
  }
  else
  {
    x.style.display = "none";
  }
} 
///////////Modal////////////
//https://www.w3schools.com/howto/howto_css_modal_images.asp
var span = document.getElementsByClassName("modalClose");
var modal = document.getElementById("myModal");
var modalImg = document.getElementById("newMyImg");
function ShowModalImage(myImg)
{
  // Get the image and insert it inside the modal - use its "alt" text as a caption
  var img = document.getElementById(myImg);
  var captionText = document.getElementById("caption");
  modal.style.display = "block";
  modalImg.src = img.src;
  captionText.innerHTML = img.alt;
}
function CloseSpan()
{
  modal.style.display = "none";
}
/***Detect Esc btton to close Modal***/
document.addEventListener('keydown', function(event){
	if(event.key === "Escape"){
		CloseSpan()
	}
});
/***Hide modal when mouse clic***/
modal.onclick = function(){
		CloseSpan()
};
/////////////////////////////////////////
</script>